<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Ff4j Toggle UI</title>
    <!-- Font Awesome -->
    <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
            rel="stylesheet"
    />
    <!-- Google Fonts -->
    <link
            href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
            rel="stylesheet"
    />
    <!-- MDB -->
    <link
            href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.0/mdb.min.css"
            rel="stylesheet"
    />
</head>
<body class="bg-secondary">
<nav class="navbar navbar-dark bg-dark">
    <div class="container-fluid">
        <form class="d-flex input-group w-auto">
            <h3 class="text-light">Ff4j Toggle UI</h3>
            <span class="input-group-text text-white border-0" id="search-addon">

        <i class="fa fa-toggle-on fa-2x" aria-hidden="true"></i>
      </span>
        </form>
    </div>
</nav>
<div class="d-flex justify-content-center">
    <ul>
        <h2>Features</h2>
            <div th:each="item : ${messages}">
                <form class="myForm" th:action="@{/api/toggle(feature=${item.getUid()})}" method="post">
                    <span th:if="${item.isEnable()}">
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheck" checked onclick="clickFn(event)"/>
                            <label class="form-check-label" for="flexSwitchCheck"  th:text="${item.getUid()}">Change Language</label>
                        </div>
                    </span>
                    <span th:unless="${item.isEnable()}">
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheck1" onclick="clickFn(event)"/>
                            <label class="form-check-label" for="flexSwitchCheck1" th:text="${item.getUid()}">Change Language</label>
                        </div>
                    </span>
                </form>
            </div>
    </ul>
</div>

<script>

         function clickFn(event) {
          const checkbox = event.currentTarget;
          event.currentTarget.closest('form').submit();
        }
</script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script
        type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.0/mdb.min.js"
></script>
</body>
</html>